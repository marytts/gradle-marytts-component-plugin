plugins {
    id 'de.dfki.mary.component'
}

task testPlugins {
    doLast {
        assert pluginManager.hasPlugin('de.dfki.mary.component')
        assert pluginManager.hasPlugin('groovy')
    }
}

task testGenerateSource {
    dependsOn generateSource
    doLast {
        assert fileTree(generateSource.destDir).include('**/*.groovy').files
    }
}

task testCompileGroovy {
    dependsOn compileGroovy
    doLast {
        assert fileTree(sourceSets.main.groovy.outputDir).include('**/*.class').files
    }
}

task testCompileTestGroovy {
    dependsOn compileTestGroovy
    doLast {
        assert fileTree(sourceSets.test.groovy.outputDir).include('**/*.class').files
    }
}
